# B01_1 雜賀孫市狙擊訓練場地圖說明

本文檔說明 B01_1 戰役專用的訓練場地圖設計，該地圖專門為雜賀孫市的狙擊訓練而設計。

## 🎯 地圖設計理念

### 核心概念
- **開放式地形**：提供足夠的射擊空間和視野
- **距離分級**：不同距離的訓練區域，對應不同技能等級
- **循序漸進**：從靜止目標到移動目標，逐步提升難度
- **實戰模擬**：最終關卡模擬真實戰鬥環境

### 地圖特色
- **超遠射程設計**：支援雜賀孫市最遠 1600 距離的狙擊
- **多樣化目標**：靜止、移動、裝甲等不同類型練習目標
- **環境互動**：風向、障礙物等環境因素影響

## 🗺️ 地圖區域劃分

### 主要區域

#### 1. 玩家起始區 (0, 0)
- **位置**：地圖中心偏左
- **功能**：玩家出生點，安全區域
- **特色**：提供基礎視野和操作空間

#### 2. 距離測試帶 (800-1600)
- **800m 區域**：基礎射程測試，適合新手
- **1000m 區域**：標準射程，大部分關卡的核心距離
- **1200m 區域**：進階射程，需要技能加成
- **1600m 區域**：極限射程，雜賀狙擊模式最遠距離

#### 3. 訓練環形區 (1000 中心)
- **圓形路徑**：直徑約 200 的環形移動路線
- **用途**：移動目標練習，風向補償訓練
- **中心點**：1000 距離標準射擊點

#### 4. Boss 戰區 (1400, 200)
- **位置**：地圖右側
- **功能**：最終關卡的 Boss 戰場地
- **特色**：較為複雜的地形，需要位置技巧

### 輔助設施

#### 道具商店 (-50, 50)
- **位置**：起始區附近
- **功能**：購買訓練用道具和卷軸
- **距離**：步行約 3 秒可達

#### 安全區域 (-100, 0)
- **位置**：地圖左側
- **功能**：無法被攻擊的休息區域
- **用途**：觀察敵人行為，規劃戰術

## 🛤️ 路徑系統

### 1. training_path（訓練主路徑）
```
creep_spawn → target_800 → target_1000 → target_1200 → target_1600
```
- **長度**：約 1600 單位
- **用途**：直線移動目標，測試不同距離射擊
- **特點**：逐漸遠離玩家，難度遞增

### 2. circle_path（環形路徑）
```
target_1000 → circle_1 → circle_2 → circle_3 → circle_4 → target_1000
```
- **半徑**：約 100 單位
- **用途**：環形移動目標，測試追蹤射擊
- **特點**：固定距離，變化角度

## 🎯 目標類型設計

### 練習假人 (practice_dummy)
- **血量**：50 HP
- **移動**：靜止
- **用途**：基礎瞄準練習
- **獎勵**：5 金幣

### 移動靶 (moving_target)
- **血量**：75 HP
- **移動**：中速 (150)
- **用途**：移動目標追蹤
- **獎勵**：8 金幣

### 訓練小兵 (training_creep)
- **血量**：100 HP
- **防禦**：1 點物理防禦
- **移動**：較快 (200)
- **用途**：模擬真實小兵
- **獎勵**：12 金幣

### 裝甲假人 (armored_dummy)
- **血量**：200 HP
- **防禦**：5 物理 + 2 魔法
- **移動**：緩慢 (50)
- **用途**：測試穿透傷害
- **獎勵**：20 金幣

## 📋 關卡適配說明

### S0 - 遠距補刀
- **地圖區域**：主要在 training_path
- **目標類型**：以 practice_dummy 為主，少量 training_creep
- **波次頻率**：每 3 秒一個目標
- **設計重點**：建立基礎瞄準感覺

### S1a - 基準試煉
- **地圖區域**：target_1000 區域
- **目標類型**：單個敵方法師（由 ECS 系統生成）
- **距離限制**：必須在 1000 距離內擊殺
- **設計重點**：確保基本戰鬥能力

### S1b - 千里狙殺
- **地圖區域**：target_1000 以遠
- **目標類型**：moving_target
- **距離要求**：超過 1000 距離
- **設計重點**：展示遠程狙擊優勢

### S6 - 破盾專精
- **地圖區域**：training_path
- **目標類型**：armored_dummy
- **特殊機制**：護盾破除後才能造成全傷害
- **設計重點**：理解防禦機制

### S7 - 弱點狙擊
- **地圖區域**：boss_area
- **目標類型**：Boss 單位（ECS 系統）
- **特殊機制**：弱點系統，頭部 2 倍傷害
- **設計重點**：精準瞄準技巧

### S8 - 側風射擊
- **地圖區域**：circle_path
- **目標類型**：moving_target（環形移動）
- **環境效果**：風向影響投射物軌跡
- **設計重點**：環境因素補償

### S9 - 連環狙擊
- **地圖區域**：training_path（多點同時）
- **目標類型**：多個 practice_dummy
- **時間限制**：10 秒內連續擊殺 3 個
- **設計重點**：快速目標切換

### S5 - 最終火力網
- **地圖區域**：全圖
- **目標類型**：混合波次 + Boss
- **持續時間**：180 秒
- **設計重點**：綜合技能運用

## 🌪️ 環境效果

### 風向系統（S8 關卡）
- **風向**：東風（X軸正方向）
- **強度**：150 單位
- **影響**：所有投射物向 X 正方向偏移
- **補償**：需要向 X 負方向預判射擊

### 視野系統
- **白天視野**：1800 單位（雜賀基礎）
- **夜晚視野**：800 單位
- **真實視野區域**：道具商店和安全區域

## 💡 戰術建議

### 位置選擇
1. **起始位置**：適合觀察全場，規劃路線
2. **1000 距離點**：最佳射擊位置，大部分目標可達
3. **安全區域**：緊急撤退和觀察敵人行為

### 射程管理
1. **800-1000**：基礎射程，命中率最高
2. **1000-1200**：需要 W 技能加成
3. **1200-1600**：需要狙擊模式，最大射程

### 目標優先級
1. **高價值目標**：armored_dummy（20 金幣）
2. **移動目標**：moving_target（練習追蹤）
3. **靜止目標**：practice_dummy（基礎練習）

## 🔧 技術實現細節

### 座標系統
- **原點**：(0, 0) 玩家起始位置
- **單位**：遊戲內距離單位
- **方向**：X 軸向右，Y 軸向上

### 碰撞檢測
- **玩家**：16 單位碰撞半徑
- **小兵**：12-24 單位（依類型而定）
- **建築**：不可穿越，32 單位碰撞

### 性能優化
- **視野裁剪**：超出視野的單位不渲染
- **距離 LOD**：遠距離目標降低更新頻率
- **路徑預計算**：移動路徑提前計算並緩存

---

此地圖設計將為玩家提供完整的狙擊手訓練體驗，從基礎瞄準到高難度技巧，循序漸進地掌握雜賀孫市的戰鬥精髓。